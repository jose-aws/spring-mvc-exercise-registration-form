<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registration Form</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <style>
      #togglePasswordIcon {
        color: #000;
      }
      #togglePassword {
        background-color: white;
        outline-style: none;
      }
      .form-control {
        background-color: #e9ecef;
      }
      body {
        background-color: #f8f9fa;
      }
      .btn-primary:hover {
        background-color: #0b5ed7;
        border-color: #0a58ca;
        box-shadow: 0 0 10px rgba(13, 110, 253, 0.6);
      }
    </style>
  </head>
  <body>
    <div class="container mt-4">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="container py-4 shadow">
            <h1 class="text-center mb-4">Register</h1>
            <form
              th:action="@{/register}"
              th:method="post"
              th:object="${users}"
            >
              <div class="mb-3">
                <label class="form-label">First Name</label>
                <input
                  type="text"
                  class="form-control"
                  th:field="*{firstName}"
                  placeholder="First Name"
                />
                <div
                  class="text-danger"
                  th:if="${#fields.hasErrors('firstName')}"
                  th:errors="*{firstName}"
                ></div>
              </div>
              <div class="mb-3">
                <label class="form-label">Last Name</label>
                <input
                  type="text"
                  class="form-control"
                  th:field="*{lastName}"
                  placeholder="Last Name"
                />
                <div
                  class="text-danger"
                  th:if="${#fields.hasErrors('lastName')}"
                  th:errors="*{lastName}"
                ></div>
              </div>
              <div class="mb-3">
                <label class="form-label">Date of Birth</label>
                <input
                  type="date"
                  class="form-control"
                  th:field="*{dateOfBirth}"
                  placeholder="Date of Birth"
                />
                <div
                  class="text-danger"
                  th:if="${#fields.hasErrors('dateOfBirth')}"
                  th:errors="*{dateOfBirth}"
                ></div>
              </div>
              <div class="mb-3">
                <label class="form-label">Gender</label>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    th:field="*{gender}"
                    id="male"
                    value="male"
                  />
                  <label class="form-check-label" for="male">Male</label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    th:field="*{gender}"
                    id="female"
                    value="female"
                  />
                  <label class="form-check-label" for="female">Female</label>
                </div>
                <div
                  class="text-danger"
                  th:if="${#fields.hasErrors('gender')}"
                  th:errors="*{gender}"
                ></div>
              </div>
              <div class="mb-3">
                <label class="form-label">Phone Number</label>
                <input
                  type="text"
                  class="form-control"
                  th:field="*{phoneNumber}"
                  placeholder="Phone Number"
                />
                <div
                  class="text-danger"
                  th:if="${#fields.hasErrors('phoneNumber')}"
                  th:errors="*{phoneNumber}"
                ></div>
              </div>
              <div class="mb-3">
                <label class="form-label">Username</label>
                <input
                  type="text"
                  class="form-control"
                  th:field="*{username}"
                  placeholder="Username"
                />
                <div
                  class="text-danger"
                  th:if="${#fields.hasErrors('username')}"
                  th:errors="*{username}"
                ></div>
              </div>
              <div class="mb-3">
                <label class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  th:field="*{email}"
                  placeholder="Email"
                />
                <div
                  class="text-danger"
                  th:if="${#fields.hasErrors('email')}"
                  th:errors="*{email}"
                ></div>
              </div>
              <div class="mb-3">
                <label class="form-label">Password</label>
                <div class="input-group">
                  <input
                    type="password"
                    class="form-control"
                    id="passwordInput"
                    th:field="*{password}"
                    placeholder="Password"
                  />
                  <span class="input-group-text" id="togglePassword">
                    <i class="bi bi-eye-slash" id="togglePasswordIcon"></i>
                  </span>
                </div>
                <div
                  class="text-danger"
                  th:if="${#fields.hasErrors('password')}"
                  th:errors="*{password}"
                ></div>
              </div>

              <div class="mb-3 form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  id="termsAccepted"
                  th:field="*{termsAccepted}"
                />
                <label class="form-check-label" for="termsAccepted"
                  >I agree to the terms and conditions</label
                >
                <div
                  class="text-danger"
                  th:if="${#fields.hasErrors('termsAccepted')}"
                  th:errors="*{termsAccepted}"
                ></div>
              </div>

              <button
                type="submit"
                class="btn btn-primary form-control"
                style="background-color: #0d6efd; color: #fff"
              >
                Register
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center mt-3">
      <a href="#" th:href="@{/list}">Back to List</a>
    </div>

    <script>
      const togglePassword = document.querySelector("#togglePassword");
      const passwordInput = document.querySelector("#passwordInput");
      const togglePasswordIcon = document.querySelector("#togglePasswordIcon");

      togglePassword.addEventListener("click", function (e) {
        const type =
          passwordInput.getAttribute("type") === "password"
            ? "text"
            : "password";
        passwordInput.setAttribute("type", type);

        if (togglePasswordIcon.classList.contains("bi-eye-slash")) {
          togglePasswordIcon.classList.remove("bi-eye-slash");
          togglePasswordIcon.classList.add("bi-eye");
        } else {
          togglePasswordIcon.classList.remove("bi-eye");
          togglePasswordIcon.classList.add("bi-eye-slash");
        }
      });
    </script>
  </body>
</html>
